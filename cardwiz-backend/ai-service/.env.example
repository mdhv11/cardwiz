# AI service local environment
# Prefer using `../.env` for shared settings; this file can override per service.

APP_NAME=ai-service
INSTANCE_PORT=8000
AWS_REGION=ap-south-1
S3_BUCKET_NAME=cardwiz-docs

# Optional S3-specific overrides (supports MinIO/LocalStack)
AWS_S3_BUCKET_NAME=
AWS_S3_REGION=
AWS_S3_ACCESS_KEY=
AWS_S3_SECRET_KEY=
AWS_S3_ENDPOINT=

# Optional Bedrock-specific overrides
AWS_BEDROCK_REGION=
AWS_BEDROCK_ACCESS_KEY_ID=
AWS_BEDROCK_SECRET_ACCESS_KEY=

EUREKA_ENABLED=true
EUREKA_SERVER=http://localhost:8761/eureka
EUREKA_INSTANCE_HOST=127.0.0.1

NOVA_ENABLE_REASONING=false
NOVA_REASONING_BUDGET_TOKENS=1024
RECOMMENDATION_PRIMARY_MODEL_ID=amazon.nova-lite-v1:0
RECOMMENDATION_FALLBACK_MODEL_ID=amazon.nova-micro-v1:0
EMBEDDING_PRIMARY_MODEL_ID=amazon.nova-2-multimodal-embeddings-v1:0
EMBEDDING_FALLBACK_MODEL_ID=amazon.titan-embed-text-v2:0
EMBEDDING_INDEX_PURPOSE=GENERIC_INDEX
EMBEDDING_RETRIEVAL_PURPOSE=GENERIC_RETRIEVAL

DATABASE_URL=postgresql+psycopg://cardwiz_user:cardwiz_pass@localhost:5432/cardwiz
VECTOR_TOP_K=5
REDIS_ENABLED=true
REDIS_URL=redis://localhost:6379/0
CACHE_TTL_SECONDS=600

# Kafka async ingestion
KAFKA_ENABLED=false
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_DOCUMENT_INGEST_TOPIC=cardwiz.document.ingest
KAFKA_CONSUMER_GROUP=ai-service-doc-ingest
KAFKA_AUTO_OFFSET_RESET=latest
KAFKA_MAX_POLL_INTERVAL_MS=900000
KAFKA_SESSION_TIMEOUT_MS=45000
KAFKA_HEARTBEAT_INTERVAL_MS=15000

# Callback to user-service
USER_SERVICE_CALLBACK_URL=http://localhost:8080/api/v1/cards/internal/ingestion-callback
USER_SERVICE_CALLBACK_SECRET=cardwiz-internal-secret
